@model IEnumerable<OnlineClassManagement.Models.User>

@foreach (var item in Model)
{
    <tr id="user-row-@item.UserId">
        <td>@item.UserId</td>
        <td>@item.FullName</td>
        <td>@item.Email</td>
        <td>
            <span class="badge @(item.Role == "Admin" ? "bg-admin" : item.Role == "Teacher" ? "bg-teacher" : "bg-student")">
                @item.Role
            </span>
        </td>
        <td>@(item.PhoneNumber ?? "-")</td>
        <td id="status-@item.UserId">
            @if (item.IsActive)
            {
                <span class="badge bg-success">Hoạt động</span>
            }
            else
            {
                <span class="badge bg-secondary">Vô hiệu hóa</span>
            }
        </td>
        <td>@item.CreatedAt.ToString("dd/MM/yyyy")</td>
        <td id="actions-@item.UserId" class="action-buttons">
            <div class="d-flex flex-column gap-1">
                <a asp-action="Details" asp-route-id="@item.UserId" class="btn btn-sm btn-outline-secondary">Chi tiết</a>
                <a asp-action="Edit" asp-route-id="@item.UserId" class="btn btn-sm btn-outline-secondary">Sửa</a>
                <a asp-action="ChangePassword" asp-route-id="@item.UserId" class="btn btn-sm btn-outline-secondary">Đổi mật khẩu</a>
                @if (item.IsActive)
                {
                    <button class="btn btn-sm btn-outline-secondary btn-toggle-status" data-user-id="@item.UserId" data-action="deactivate">Vô hiệu hóa</button>
                }
                else
                {
                    <button class="btn btn-sm btn-outline-secondary btn-toggle-status" data-user-id="@item.UserId" data-action="activate">Kích hoạt</button>
                }
            </div>
        </td>
    </tr>
}

